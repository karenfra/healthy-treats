<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Healthy Treats - Testimonios</title>
  <link rel="icon" type="image/png" href="../imagenes/logo.png">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <link rel="stylesheet" href="../css/styleQS.css">
  <link rel="stylesheet" href="../css/styleC.css">
  <link rel="stylesheet" href="../css/footer.css">

  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #fffaf3;
    }

    .text-brown {
      color: #6B2C00;
      font-weight: bold;
    }

    .navbar-nav .nav-link {
      color: #f0e4d7 !important;
      transition: color 0.3s ease;
    }

    .navbar-nav .nav-link:hover,
    .dropdown-item:hover {
      color: #ffd19a !important;
      background-color: #8b3f10 !important;
    }

    header {
      background-color: #C89656;
      color: white;
      padding: 100px 0 60px 0;
      text-align: center;
      margin-top: 56px;
    }

    /* --- Carrusel estilo foco central --- */
    .carousel-item {
      transition: transform 0.6s ease-in-out;
    }

    .testimonial-card {
      background-color: #fff;
      border-radius: 20px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      overflow: hidden;
      padding: 40px;
      max-width: 900px;
      margin: 0 auto;
    }

    .testimonial-card img {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 40px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .testimonial-content {
      flex: 1;
    }

    .testimonial-content h5 {
      font-weight: 700;
      color: #6B2C00;
      margin-bottom: 15px;
    }

    .testimonial-content p {
      font-size: 1.1rem;
      color: #444;
      line-height: 1.6;
      text-align: justify;
      margin-bottom: 15px;
    }

    .rating {
      color: #FFD700;
      font-size: 1.4rem;
    }

    .carousel-inner {
      overflow: visible;
    }

    .carousel-item-next, .carousel-item-prev {
      opacity: 0.4;
      transform: scale(0.9);
    }

    .carousel-control-prev-icon,
    .carousel-control-next-icon {
      filter: invert(1);
      width: 50px;
      height: 50px;
    }

    .star-rating {
      position: relative;
      display: inline-flex;
      gap: 5px;
      font-size: 2.5rem;
      cursor: pointer;
      user-select: none;
    }

    .star {
      color: #ddd;
      position: relative;
      width: 1em;
      height: 1em;
    }

    .star::before {
      content: "★";
      color: #ddd;
      position: absolute;
      left: 0;
      top: 0;
    }

    .star.full::before {
      color: #ffc107;
    }

    .star.half::before {
      content: "★";
      color: #ffc107;
      position: absolute;
      left: 0;
      width: 50%;
      overflow: hidden;
    }

    .btn:hover {
      background-color: #b97d3e !important;
      transform: scale(1.03);
      transition: 0.2s ease;
    }

    footer {
      background-color: #6B2C00;
      color: white;
      padding: 20px;
      text-align: center;
    }
    
  </style>

  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script defer src="../JS/footer.js"></script>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: #6B2C00; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="../index.html">
        <img src="../imagenes/logo.png" alt="Healthy Treats" width="50" height="50" class="me-2">
        <strong>Healthy Treats</strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="../html/Quienes_somos.html">Quiénes somos</a></li>
          <li class="nav-item"><a class="nav-link" href="../html/catalogo.html">Catálogo</a></li>
          <li class="nav-item"><a class="nav-link" href="../html/Contactanos.html">Contáctanos</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#" data-bs-toggle="dropdown">Más</a>
            <ul class="dropdown-menu" style="background-color: #6B2C00;">
              <li><a class="dropdown-item active" href="../html/Testimonios.html" style="color: #fff;">Testimonios</a></li>
              <li><a class="dropdown-item" href="../html/Entretenimiento.html" style="color: #fff;">Entretenimiento</a></li>
              <li><a class="dropdown-item" href="../html/Podcast.html" style="color: #fff;">Podcast Informativos</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ENCABEZADO -->
  <header style="background-color: #C89656; color: white; padding: 100px 0 60px 0; text-align: center;">
    <h1 style="font-weight: 800; font-size: 3rem; letter-spacing: 1px;">
      <i class="bi bi-chat-dots-fill me-2"></i> Testimonios
    </h1>
    <p class="lead mt-3" style="font-weight: 600; font-size: 1.3rem;">
      La <span style="color: #fff7e6; font-weight: 700;">experiencia dulce</span> de nuestros clientes con 
      <span style="color: #6B2C00; background-color: #fff7e6; padding: 2px 8px; border-radius: 8px;">Healthy Treats</span>
    </p>
  </header>

  <!-- CARRUSEL DE TESTIMONIOS -->
  <main class="my-5">
    <div id="testimoniosCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">

        <!-- Testimonio 1 -->
        <div class="carousel-item active">
          <div class="testimonial-card">
            <img src="../imagenes/ternura.webp" alt="Maribel López">
            <div class="testimonial-content">
              <h5>Maribel López Trejo</h5>
              <p>"Healthy Treats cambió mi forma de disfrutar los postres. Antes pensaba que lo saludable no podía ser sabroso, pero con ellos todo cambió. Las galletas integrales con chispas de cacao son mi debilidad, y me encanta que todo sea natural y sin conservantes. Además, su atención al cliente es excelente: siempre responden rápido y con una sonrisa. ¡100% recomendados para los que aman cuidarse sin dejar de disfrutar!"</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star"></i>
                <i class="bi bi-star"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="carousel-item active">
          <div class="testimonial-card">
            <img src="../imagenes/choca.jpg" alt="Maribel López">
            <div class="testimonial-content">
              <h5>Choca Mandros</h5>
              <p>"¡Qué buenazo todo! Pedí un combo de postres para probar y terminé encantada. El cheesecake de frutos rojos estaba espectacular, suavecito y con el punto exacto de dulce. También probé sus brownies fit, y sinceramente no tienen nada que envidiarle a los clásicos. Me encanta que usen ingredientes naturales y que todo venga bien presentadito. Además, el delivery llegó rapidísimo, y con una atención de primera. Se nota que ponen el corazón en lo que hacen. ¡Así da gusto engreírse un poquito sin salirse de la dieta!"</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Testimonio 2 -->
        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/Jiafei.webp" alt="Jiafei Dai Dai">
            <div class="testimonial-content">
              <h5>Jiafei Dai Dai</h5>
              <p>"Desde que descubrí Healthy Treats, mis tardes son más dulces y saludables. Me encanta la variedad de productos, especialmente sus brownies sin azúcar, que son suaves y tienen un sabor espectacular. Me sorprendió la presentación tan cuidada y el empaque ecológico. Se nota que les importa el bienestar del cliente y del planeta. Cada pedido llega puntual y con un aroma irresistible. ¡Los recomiendo a todos mis amigos!"</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/acurio.webp" alt="Stephany Toribio">
            <div class="testimonial-content">
              <h5>Gastón Acurio Jaramillo</h5>
              <p>"Nunca pensé que lo saludable pudiera ser tan sabroso. Los postres de Healthy Treats son un éxito en casa; a mis hijos les encantan los muffins de plátano y avena. Lo que más valoro es que son productos artesanales, sin colorantes artificiales y con un sabor tan casero que recuerda a los postres tradicionales. Sin duda, una marca que combina amor, nutrición y calidad en cada bocado."</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
                <i class="bi bi-star"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Testimonio 3 -->
        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/aimp3.png" alt="Stephany Toribio">
            <div class="testimonial-content">
              <h5>Marisol Domínguez Maya</h5>
              <p>"Nunca pensé que lo saludable pudiera ser tan sabroso. Los postres de Healthy Treats son un éxito en casa; a mis hijos les encantan los muffins de plátano y avena. Lo que más valoro es que son productos artesanales, sin colorantes artificiales y con un sabor tan casero que recuerda a los postres tradicionales. Sin duda, una marca que combina amor, nutrición y calidad en cada bocado."</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Testimonio 4 -->
        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/stephany.png" alt="Valeria Castillo">
            <div class="testimonial-content">
              <h5>Stephany Toribio Jiménez</h5>
              <p>"Desde que los probé, no he vuelto a comprar otros postres. Me encanta la textura, el equilibrio de sabores y sobre todo saber que estoy comiendo algo bueno para mi cuerpo. Los cupcakes de zanahoria son mis favoritos, ¡tienen el punto perfecto entre dulzura y suavidad! Además, los precios son muy accesibles para la calidad que ofrecen. Healthy Treats realmente ha elevado mi forma de disfrutar lo dulce."</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Testimonio 5 -->
        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/marely.png" alt="Marely Farfán">
            <div class="testimonial-content">
              <h5>Marely Farfán Cienfuegos</h5>
              <p>"Increíble experiencia. Todo llegó perfecto, bien empacado y con un aroma que te abre el apetito apenas lo recibes. Se nota que cada producto está hecho con dedicación y cariño. Probé sus cheesecakes light y honestamente no tienen nada que envidiar a los tradicionales. Además, su página web es fácil de navegar, y hacer pedidos es rapidísimo. ¡Healthy Treats ha conquistado mi corazón y mi paladar!"</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="carousel-item">
          <div class="testimonial-card">
            <img src="../imagenes/algebra.enc" alt="Marely Farfán">
            <div class="testimonial-content">
              <h5>Julio Alegría Flores</h5>
              <p>"Hace poco descubrí esta repostería saludable y me sorprendió desde el primer pedido. Los postres llegan impecables, con una presentación muy cuidada y un aroma que te invita a probarlos al instante. Pedí un cheesecake y unas galletas sin azúcar, y ambos estaban espectaculares: suaves, sabrosos y con el dulzor justo. Me encanta que ofrezcan opciones ricas y balanceadas sin perder el toque casero que tanto se aprecia. Sin duda, se ha convertido en mi lugar favorito para disfrutar algo dulce sin culpa."</p>
              <div class="rating">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star"></i>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- Flechas -->
      <button class="carousel-control-prev" type="button" data-bs-target="#testimoniosCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#testimoniosCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Siguiente</span>
      </button>
    </div>
  </main>

<section class="formulario-testimonios py-5">
  <div class="container">
  <h2 class="text-center mb-4" style="color:#C89656; font-weight:700;">
    Deja tu testimonio
  </h2>
    <div class="card mx-auto shadow-lg border-0 rounded-4" style="max-width: 700px;">
      <div class="card-body p-4">
        <form id="formTestimonio" enctype="multipart/form-data" novalidate>

          <!-- Nombre -->
          <div class="mb-3">
            <label for="nombre" class="form-label fw-semibold">Nombre</label>
            <input type="text" class="form-control rounded-3" id="nombre" placeholder="Tu nombre" required>
            <div class="invalid-feedback">Por favor, ingresa tu nombre.</div>
          </div>

          <!-- Apellidos -->
          <div class="mb-3">
            <label for="apellidos" class="form-label fw-semibold">Apellidos</label>
            <input type="text" class="form-control rounded-3" id="apellidos" placeholder="Tus apellidos" required>
            <div class="invalid-feedback">Por favor, ingresa tus apellidos.</div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">Correo electrónico</label>
            <input type="email" class="form-control rounded-3" id="email" placeholder="tucorreo@gmail.com" required>
            <div class="invalid-feedback">Ingresa un correo válido que termine en @gmail.com.</div>
          </div>

          <!-- Valoración con estrellas -->
          <div class="mb-3 text-center">
            <label class="form-label fw-semibold d-block mb-2">Nivel de satisfacción</label>
            <div id="starRating" class="star-rating d-inline-flex justify-content-center">
              <span class="star" data-value="1"></span>
              <span class="star" data-value="2"></span>
              <span class="star" data-value="3"></span>
              <span class="star" data-value="4"></span>
              <span class="star" data-value="5"></span>
            </div>
            <input type="hidden" id="rating" required>
            <div class="invalid-feedback text-center">Selecciona tu calificación.</div>
          </div>

          <!-- Opinión -->
          <div class="mb-3">
            <label for="opinion" class="form-label fw-semibold">Escribe tu opinión</label>
            <textarea class="form-control rounded-3" id="opinion" rows="3" placeholder="Cuéntanos tu experiencia..." required></textarea>
            <div class="invalid-feedback">Por favor, escribe tu opinión.</div>
          </div>

          <!-- Foto -->
          <div class="mb-4">
            <label for="foto" class="form-label fw-semibold">Tu foto (obligatoria)</label>
            <input type="file" class="form-control rounded-3" id="foto" accept="image/*" required>
            <div class="invalid-feedback">Por favor, selecciona una imagen.</div>
          </div>

          <!-- Botón -->
          <div class="text-center">
            <button type="submit" class="btn btn-lg text-white px-4 fw-bold" style="background-color:#C89656;">
              Enviar Formulario
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* =====================
     --- Estrellas (5 visibles, medias permitidas) ---
     ===================== */
  const stars = document.querySelectorAll("#starRating .star");
  const ratingInput = document.getElementById("rating");

  stars.forEach((star, index) => {
    // hover para previsualizar (incluye mitad)
    star.addEventListener("mousemove", e => {
      const rect = star.getBoundingClientRect();
      const isHalf = (e.clientX - rect.left) < rect.width / 2;
      paintStars(index + (isHalf ? 0.5 : 1));
    });

    star.addEventListener("mouseleave", () => {
      paintStars(parseFloat(ratingInput.value) || 0);
    });

    // click para fijar puntuación (detecta mitad)
    star.addEventListener("click", e => {
      const rect = star.getBoundingClientRect();
      const isHalf = (e.clientX - rect.left) < rect.width / 2;
      const value = index + (isHalf ? 0.5 : 1);
      ratingInput.value = value.toFixed(1); // guarda 1 decimal (ej. "4.5")
      paintStars(value);
    });
  });

  function paintStars(value) {
    stars.forEach((star, i) => {
      star.classList.remove("full", "half");
      const starIndex = i + 1;
      if (value >= starIndex) {
        star.classList.add("full");
      } else if (value >= starIndex - 0.5 && value < starIndex) {
        star.classList.add("half");
      }
    });
  }

  /* =====================
     --- Form submit: validar, leer foto, guardar en localStorage y redirigir ---
     ===================== */
  const form = document.getElementById("formTestimonio");
  const carouselInner = document.querySelector(".carousel-inner");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const nombre = document.getElementById("nombre").value.trim();
    const apellidos = document.getElementById("apellidos").value.trim();
    const email = document.getElementById("email").value.trim();
    const opinion = document.getElementById("opinion").value.trim();
    const rating = parseFloat(document.getElementById("rating").value);
    const fotoInput = document.getElementById("foto");
    const fotoFile = fotoInput.files[0];

    // Validaciones
    if (!nombre || !apellidos) {
      alert("Por favor completa Nombre y Apellidos.");
      return;
    }

    if (!email.endsWith("@gmail.com")) {
      alert("Por favor ingresa un correo válido que termine en @gmail.com");
      return;
    }

    if (!rating || isNaN(rating) || rating <= 0) {
      alert("Por favor selecciona una calificación (estrellas).");
      return;
    }

    if (!fotoFile) {
      alert("Por favor selecciona una foto antes de enviar.");
      return;
    }

    // Convertir la imagen a base64 y luego guardar todo en localStorage
    const reader = new FileReader();
    reader.onload = function (event) {
      const fotoBase64 = event.target.result; // data:image/...

      const nuevoTestimonio = {
        nombre: `${nombre} ${apellidos}`,
        opinion,
        rating,       // número, ejemplo: 4.5
        foto: fotoBase64
        // NOTA: no guardamos el email en el objeto que se mostrará
      };

      const testimonios = JSON.parse(localStorage.getItem("testimonios")) || [];
      testimonios.push(nuevoTestimonio);
      localStorage.setItem("testimonios", JSON.stringify(testimonios));

      // Redirigir a la página de agradecimiento
      window.location.href = "gracias.html";
    };

    reader.readAsDataURL(fotoFile);
  });

  /* =====================
     --- Mostrar testimonios guardados en el carrusel ---
     Esta función reconstruye el .carousel-inner manteniendo los
     testimonios base (los que estén escritos en HTML) y añadiendo
     los dinámicos desde localStorage.
     ===================== */
  function mostrarTestimonios() {
    const testimoniosGuardados = JSON.parse(localStorage.getItem("testimonios")) || [];

    // Tomamos los elementos base (aquellos que no tengan la clase "dynamic")
    const baseItems = Array.from(document.querySelectorAll(".carousel-inner .carousel-item")).map(item => {
      // clonamos para no mover nodos originales si ya fueron reubicados
      return item.cloneNode(true);
    }).filter(node => !node.classList.contains("dynamic"));

    // Limpiamos el contenedor y volvemos a insertar los base (manteniendo el primero como active)
    carouselInner.innerHTML = "";
    baseItems.forEach((node, idx) => {
      node.classList.remove("active"); // quitamos para controlar activación más abajo
      carouselInner.appendChild(node);
    });

    // Luego agregamos los testimonios guardados (dinámicos)
    testimoniosGuardados.forEach((t, i) => {
      const item = document.createElement("div");
      item.classList.add("carousel-item", "dynamic");

      // Construir estrellas: full, half, empty usando icons de bootstrap
      const fullStars = Math.floor(t.rating);
      const hasHalf = (t.rating - fullStars) >= 0.5;

      let starsHtml = "";
      for (let s = 0; s < fullStars; s++) starsHtml += '<i class="bi bi-star-fill"></i>';
      if (hasHalf) starsHtml += '<i class="bi bi-star-half"></i>';
      const emptyCount = 5 - fullStars - (hasHalf ? 1 : 0);
      for (let s = 0; s < emptyCount; s++) starsHtml += '<i class="bi bi-star"></i>';

      item.innerHTML = `
        <div class="testimonial-card">
          <img src="${t.foto}" alt="${t.nombre}">
          <div class="testimonial-content">
            <h5>${t.nombre}</h5>
            <p>"${escapeHtml(t.opinion)}"</p>
            <div class="rating">${starsHtml}</div>
          </div>
        </div>
      `;
      carouselInner.appendChild(item);
    });

    // Activar primer item
    const first = carouselInner.querySelector(".carousel-item");
    if (first) first.classList.add("active");
  }

  // Pequeña utilidad para evitar inyección accidental al mostrar opinion
  function escapeHtml(str) {
    return str.replace(/[&<>"']/g, function (m) {
      return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]);
    });
  }

  // Ejecutar al cargar
  mostrarTestimonios();

});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const stars = document.querySelectorAll("#starRating .star");
  const ratingInput = document.getElementById("rating");

  stars.forEach((star, index) => {
    // Mover mouse sobre una estrella
    star.addEventListener("mousemove", (e) => {
      const rect = star.getBoundingClientRect();
      const relativeX = e.clientX - rect.left;
      const half = rect.width / 2;
      const isHalf = relativeX < half;
      const tempRating = index + (isHalf ? 0.5 : 1);
      updateStars(tempRating);
    });

    star.addEventListener("mouseleave", () => {
      const current = parseFloat(ratingInput.value) || 0;
      updateStars(current);
    });

    // Clic: fija la puntuación exacta
    star.addEventListener("click", (e) => {
      const rect = star.getBoundingClientRect();
      const relativeX = e.clientX - rect.left;
      const half = rect.width / 2;
      const isHalf = relativeX < half;
      const newRating = index + (isHalf ? 0.5 : 1);
      ratingInput.value = newRating.toFixed(1);
      updateStars(newRating);
    });
  });

  function updateStars(value) {
    stars.forEach((star, i) => {
      star.classList.remove("full", "half");
      if (value >= i + 1) {
        star.classList.add("full");
      } else if (value >= i + 0.5 && value < i + 1) {
        star.classList.add("half");
      }
    });
  }
});
</script>

</body>
</html>
